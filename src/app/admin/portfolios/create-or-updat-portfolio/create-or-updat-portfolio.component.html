<div class="container">
  <div class="row">
    <div class="col-md-12 addPortfolio" *ngIf="addPortfolioState">
      <h1 class="mainHeading">Add Portfolio</h1>
      <form (ngSubmit)="onSubmit()" #f="ngForm">
        <div class="row">
          <div class="col-md-6 addMedia">
            <div class="form-group">
              <label for="title">Title</label>
              <input type="text" class="form-control" id="title" name="title" ngModel required #title="ngModel"/>
              <div class="help-text"
                   *ngIf="f.submitted && title.invalid">
                Please enter title for portfolio.
              </div>
            </div>
            <div class="form-group">
              <label for="subtitle">Short Description</label>
              <input type="text" class="form-control" id="subtitle" name="subtitle" ngModel #subTitle="ngModel"
                     required/>
              <div class="help-text"
                   *ngIf="f.submitted && subTitle.invalid">
                Please enter subtitle for portfolio.
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="controls-inline">
                  <span> Is it a featured product: </span>
                  <label class="control checkbox">
                    <input type="checkbox" name="isFeaturedProduct" [(ngModel)]="isFeaturedProduct"
                           [checked]="isFeaturedProduct"/>

                    <span class="control-indicator" style="top: -12px;left: 5px;"></span>
                  </label>
                </div>
              </div>
              <div class="card-body" *ngIf="isFeaturedProduct">
                <div class="form-group">
                  <label>Featured Product Image</label>
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onFeatureImageUploadError($event)" (removedFile)="onRemoved($event)"
                            (success)="onFeatureImageUploadSuccess($event)" id="featureImage"
                            name="featureImage"></dropzone>
                </div>
                <div class="help-text" *ngIf="f.submitted && isFeaturedProduct && !featuredProductImage">
                  Featured product image is required!
                </div>
                <div class="form-group">
                  <label>Url Link</label>
                  <input type="text" class="form-control" #detailInfoUrlIfFeaturedProduct="ngModel"
                         [required]="isFeaturedProduct"
                         name="detailInfoUrlIfFeaturedProduct" ngModel/>
                </div>
                <div class="help-text"
                     *ngIf="(f.submitted && isFeaturedProduct && detailInfoUrlIfFeaturedProduct.invalid)">
                  Url is required!
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Cover Image <!-- <span *ngIf="!coverImage">+</span> --></label>
                <div class="addItem"
                     *ngIf="!coverImage"
                     (click)="show('showCoverImageForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="uploadForms.showCoverImageForm||(coverImage && coverImage.url)">
                <div *ngIf="uploadForms.showCoverImageForm" class="card" style="padding: 20px">
                  <div class="form-group">
                    <label>Title(Optional)</label>
                    <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                  </div>
                  <div class="form-group">
                    <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                              (error)="onUploadError($event)" (removedFile)="onRemoved($event)"
                              (success)="onUploadSuccess($event)" id="coverImg" name="coverImg"></dropzone>
                  </div>
                  <div class="form-group">
                    <button class="btn btn-sm btn-primary" (click)="handleUpload('coverImage')"
                            [disabled]="!lastUpload">Add
                    </button>
                    <button class="btn btn-sm btn-primary"
                            (click)="show()">
                      Cancel
                    </button>
                  </div>
                </div>
                <div *ngIf="coverImage && coverImage.url" style="position: relative;">
                  <div class="imgPreview">
                    <img [src]="config.serverUrl + coverImage.url" width="50%" height="50%"/>
                    <i class="delIcon nc-icon-mini ui-1_circle-remove lg"
                       (click)="coverImage=null">
                    </i>
                  </div>
                </div>
              </div>
            </div>
            <div class="help-text" *ngIf="!coverImage && f.submitted">Cover Image is required.</div>

            <div class="card">
              <div class="card-header">
                <label>Main Video</label>
                <div class="addItem"
                     *ngIf="!mainVideo"
                     (click)="show('showMainVideoForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div *ngIf="uploadForms.showMainVideoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <label>Cover Image for Video(Optional)</label>
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onImageUploadError($event)"
                            (success)="onImageUploadSuccess($event)"></dropzone>
                </div>
                <div class="form-group">
                  <label>Type of video</label>
                  <div class="controls-inline">
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='mp4';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      MP4
                    </label>
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='youtube';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      You Tube
                    </label>
                  </div>
                </div>
                <div class="form-group" *ngIf="videoType=='mp4'">
                  <dropzone [config]="videoUploadConfig" [message]="'Click or drag video here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="video" name="video"></dropzone>
                </div>
                <div class="form-group" *ngIf="videoType=='youtube'">
                  <input class="form-control"
                         type="text"
                         name="youTubeVideoUrlControl"
                         [(ngModel)]="youTubeVideoUrl"
                         placeholder="Enter url of youtube video"/>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary"
                          (click)="handleUpload('mainVideo')"
                          [disabled]="!uploadFormTitle || (!lastUpload && !youTubeVideoUrl) ||
                          (youTubeVideoUrl && invalidVideo())">
                    Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
              <div *ngIf="mainVideo" class="card-body">
                <label class="contentElement">
                  <div class="card">
                    <i class="delIcon nc-icon-mini ui-1_circle-remove lg"
                       (click)="mainVideo =null" style="position: absolute;right: 0;">
                    </i>
                    <div class="card-header">
                      {{mainVideo.title}}
                    </div>
                    <div class="card-body">
                      <div class="imgPreview" *ngIf="mainVideo.coverImage">
                        <img [src]="config.serverUrl + mainVideo.coverImage"/>
                      </div>
                      <div class="imgPreview" *ngIf="!mainVideo.coverImage">
                        <img src="assets/images/video_default_cover.png"/>
                      </div>
                    </div>
                  </div>
                </label>
              </div>
            </div>
            <div class="help-text" *ngIf="!mainVideo && f.submitted">Main video is required.</div>

            <div class="card">
              <div class="card-header">
                <label>Other Related Videos</label>
                <div class="addItem"
                     (click)="show('showOtherVideoForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="videos && videos.length > 0">
                <div class="card" *ngFor="let video of videos">
                  <div class="card-header">
                    {{video.title}}

                  </div>
                  <div class="card-body">
                    <div class="imgPreview">
                      <img [src]="config.serverUrl + video.coverImage"/>
                      <i class="delIcon nc-icon-mini ui-1_circle-remove lg"
                         (click)="removeVideoFromVideos(video.title)">
                      </i>
                    </div>

                  </div>
                </div>
              </div>
              <div *ngIf="uploadForms.showOtherVideoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <label>Cover Image for Video</label>
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onImageUploadError($event)"
                            (success)="onImageUploadSuccess($event)"></dropzone>
                </div>
                <div class="form-group">
                  <label>Type of video</label>
                  <div class="controls-inline">
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='mp4';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      MP4
                    </label>
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='youtube';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      You Tube
                    </label>
                  </div>
                </div>
                <div class="form-group" *ngIf="videoType=='mp4'">
                  <dropzone [config]="videoUploadConfig" [message]="'Click or drag video here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="video" name="video"></dropzone>
                </div>
                <div class="form-group" *ngIf="videoType=='youtube'">
                  <input class="form-control"
                         type="text"
                         name="youTubeVideoUrlControl"
                         [(ngModel)]="youTubeVideoUrl"
                         placeholder="Enter url of youtube video"/>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('subVideo')"
                          [disabled]="!uploadFormTitle || (!lastUpload && !youTubeVideoUrl) || !videoCoverImage ||
                              (youTubeVideoUrl && invalidVideo())">
                    Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <label>Case Studies</label>
                <div class="addItem"
                     (click)="show('caseStudy')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>

              <div class="card-body" *ngIf="caseStudies.length > 0">
                <label *ngFor="let caseStudy of caseStudies" class="contentElement">
                  {{caseStudy.title}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeCaseStudyFromCaseStudies(caseStudy.title)"
                  ></i>

                </label>
              </div>
              <div *ngIf="uploadForms.caseStudy" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="pdfUploadConfig" [message]="'Click or drag pdf here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf2" name="pdf2"></dropzone>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('caseStudy')"
                          [disabled]="!uploadFormTitle || !lastUpload">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <label>White Papers</label>
                <div class="addItem"
                     (click)="show('whitePaperForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>

              <div class="card-body" *ngIf="whitePapers.length > 0">
                <label *ngFor="let whitePaper of whitePapers" class="contentElement">
                  {{whitePaper.title}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeWhitePaperFromList(whitePaper.title)"
                  ></i>
                </label>
              </div>
              <div *ngIf="uploadForms.whitePaperForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="pdfUploadConfig" [message]="'Click or drag pdf here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('whitePaper')"
                          [disabled]="!uploadFormTitle || !lastUpload">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Articles</label>
                <div class="addItem"
                     (click)="showDataForm('articleForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>

              <div class="card-body" *ngIf="articles.length > 0">
                <label *ngFor="let article of articles" class="contentElement">
                  {{article.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeArticleFromList(article.heading)"
                  ></i>
                </label>
              </div>
              <div *ngIf="setDataForm.articleForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('article')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Others</label>
                <div class="addItem"
                     (click)="showDataForm('otherForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>

              <div class="card-body" *ngIf="other.length > 0">
                <label *ngFor="let oth of other" class="contentElement">
                  {{oth.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeOtherFromList(oth.heading)"
                  ></i>
                </label>
              </div>
              <div *ngIf="setDataForm.otherForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('other')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <label>Demos</label>
                <div class="addItem"
                     (click)="showDataForm('demoForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>

              <div class="card-body" *ngIf="demos.length > 0">
                <label *ngFor="let demo of demos" class="contentElement">
                  {{demo.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeDemoFromList(demo.heading)"
                  ></i>
                </label>
              </div>
              <div *ngIf="setDataForm.demoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('demo')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="desc">Description</label>
              <input type="text" class="form-control" id="desc" name="desc" ngModel #desc="ngModel" required/>
              <div class="help-text"
                   *ngIf="f.submitted && desc.invalid">
                Description is required.
              </div>
            </div>
            <!--     <div class="form-group">
                   <label for="demoUrl">External Demo Url</label>
                   <input type="text" class="form-control" id="demoUrl" name="demoUrl" ngModel #demoUrl="ngModel" required/>
                   <div class="help-text"
                        *ngIf="f.submitted && demoUrl.invalid">External demo urls required.
                   </div>
                 </div>-->
            <div class="card">
              <div class="card-header ">Select Group</div>
              <div class="card-body">
                <div class="controls-stacked">
                  <label class="control checkbox" *ngFor="let group of productGroups">
                    <input type="checkbox" [(ngModel)]="group.checked" name="prdGrp" required #prdGrp="ngModel">
                    <span class="control-indicator"></span>{{group.name}}
                  </label>
                </div>
              </div>
            </div>
            <div class="help-text"
                 *ngIf="f.submitted && !checkIfAnyGroupSelected()">Please
              select product
              group
            </div>
            <div class="card">
              <div class="card-header">Select Category and Sub Category</div>
              <div class="card-body">
                <div class="controls-stacked">
                  <label class="control checkbox" *ngFor="let solution of solutions">
                    <input type="checkbox"
                           (change)="solution.checked = !solution.checked;changeStatusOfAllSubCat(solution._id)"
                           [checked]="solution.checked" name="soltn">
                    <span class="control-indicator"></span>{{solution.name}}
                    <br>
                    <div class="controls-stacked">
                      <div *ngFor="let subSolution of subSolutions">
                        <label class="control checkbox" *ngIf="subSolution.mainCategory == solution._id">
                          <input [name]="solution.name" type="checkbox" [value]="subSolution.name"
                                 [checked]="checkIsItSelected(subSolution.name)"
                                 (change)="solution.checked=true;changeSubCatSelection(subSolution.name)">
                          <span class="control-indicator"></span>
                          {{subSolution.name}}
                        </label>
                      </div>
                    </div>
                  </label>
                </div>
              </div>
            </div>
            <div class="help-text"
                 *ngIf="f.submitted && !checkIfAnySolutionSelected()">Please
              select category.
            </div>
          </div>
        </div>
        <div class="form-buttons" style="margin-top: 50px;">
          <button type="submit" class="btn btn-primary">Save
          </button>
          <button type="reset" class="btn btn-default" routerLink="/admin/portfolios">Cancel</button>
        </div>
      </form>
    </div>
    <div class="col-md-12 editPortfolio" *ngIf="editPortfolioState">
      <h1 class="mainHeading">Edit Portfolio</h1>
      <form (ngSubmit)="onUpdate()" #f="ngForm">
        <div class="row">
          <div class="col-md-6 addMedia">
            <div class="form-group">
              <label>Title</label>
              <input type="text" class="form-control" name="title" [ngModel]="portfolioToEdit.title" #eTitle="ngModel"
                     required/>
              <div class="help-text" *ngIf="f.submitted && eTitle.invalid">Title is required!</div>
            </div>
            <div class="form-group">
              <label>Short Description</label>
              <input type="text" class="form-control" name="subtitle" [ngModel]="portfolioToEdit.subtitle"
                     required #eSubtitle="ngModel"/>
              <div class="help-text" *ngIf="f.submitted && eSubtitle.invalid">SubTitle is required!</div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="controls-inline">
                  <span> Is it a featured product: </span>
                  <label class="control checkbox">
                    <input type="checkbox" name="isFeaturedProduct" [(ngModel)]="isFeaturedProduct"
                           [checked]="isFeaturedProduct"/>
                    <span class="control-indicator" style="top: -12px;left: 5px;"></span>
                  </label>
                </div>
              </div>
              <div class="card-body" *ngIf="isFeaturedProduct">
                <div class="form-group">
                  <label style="margin-bottom: 20px;">Featured Product Image</label>
                  <div class="imgPreview" *ngIf="featuredProductImage">
                    <img [src]="config.serverUrl + featuredProductImage"/>
                    <i class="delIcon nc-icon-mini ui-1_circle-remove lg"
                       (click)="featuredProductImage=''">
                    </i>
                  </div>
                  <dropzone *ngIf="!featuredProductImage" [config]="imageUploadConfig"
                            [message]="'Click or drag images here to upload'"
                            (error)="onFeatureImageUploadError($event)" (removedFile)="onRemoved($event)"
                            (success)="onFeatureImageUploadSuccess($event)" id="featureImage"
                            name="featureImage"></dropzone>
                  <div class="help-text"
                       *ngIf="isFeaturedProduct && !featuredProductImage && f.submitted">
                    Please provide featured product details!
                  </div>
                </div>
                <div class="form-group">
                  <label>Url Link</label>
                  <input type="text" class="form-control" name="portfolioToEdit.detailInfoUrlIfFeaturedProduct"
                         #detailInfoUrl="ngModel" [required]="isFeaturedProduct"
                         [(ngModel)]="portfolioToEdit.detailInfoUrlIfFeaturedProduct"/>
                </div>
                <div class="help-text"
                     *ngIf="isFeaturedProduct && detailInfoUrl.invalid && f.submitted">
                  Please provide url link!
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <label>Cover Image <span (click)="show('showCoverImageForm')" *ngIf="!coverImage">+</span></label>
              </div>
              <div *ngIf="uploadForms.showCoverImageForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title(Optional)</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onUploadError($event)" (removedFile)="onRemoved($event)"
                            (success)="onUploadSuccess($event)" id="coverImg" name="coverImg"></dropzone>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('coverImage')"
                          [disabled]="!lastUpload">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
              <div *ngIf="coverImage" class="card-body" style="position: relative;">
                <div class="imgPreview">
                  <img [src]="config.serverUrl + coverImage.url"/>
                  <i class="delIcon nc-icon-mini ui-1_circle-remove lg"
                     (click)="coverImage=''">
                  </i>
                </div>
              </div>
            </div>
            <div class="help-text" *ngIf="f.submitted && !coverImage">Cover Image is required.</div>


            <div class="card">
              <div class="card-header">
                <label>Main Video</label>
                <div class="addItem"
                     *ngIf="!mainVideo"
                     (click)="show('showMainVideoForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div *ngIf="uploadForms.showMainVideoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <label>Cover Image for Video(Optional)</label>
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onImageUploadError($event)"
                            (success)="onImageUploadSuccess($event)"></dropzone>
                </div>
                <div class="form-group">
                  <label>Type of video</label>
                  <div class="controls-inline">
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='mp4';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      MP4
                    </label>
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='youtube';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      You Tube
                    </label>
                  </div>
                </div>
                <div class="form-group" *ngIf="videoType=='mp4'">
                  <dropzone [config]="videoUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="video" name="video"></dropzone>
                </div>
                <div class="form-group" *ngIf="videoType=='youtube'">
                  <input class="form-control"
                         type="text"
                         name="youTubeVideoUrlControl"
                         [(ngModel)]="youTubeVideoUrl"
                         placeholder="Enter url of youtube video"/>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('mainVideo')"
                          [disabled]="!uploadFormTitle || (!lastUpload && !youTubeVideoUrl)  ||
                           (youTubeVideoUrl && invalidVideo())">
                    Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
              <div *ngIf="mainVideo" class="card-body">
                <div class="card">
                  <div class="card-header">
                    {{mainVideo.title}}

                    <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                       (click)="mainVideo=null"></i>
                  </div>
                  <div class="card-body">
                    <div class="imgPreview" *ngIf="mainVideo.coverImage">
                      <img [src]="config.serverUrl + mainVideo.coverImage"/>
                    </div>
                    <div class="imgPreview" *ngIf="!mainVideo.coverImage">
                      <img src="assets/images/video_default_cover.png"/>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="help-text" *ngIf="f.submitted && !mainVideo">Main Video is required.</div>


            <div class="card">
              <div class="card-header">
                <label>Other Related Videos</label>
                <div class="addItem"
                     (click)="show('showOtherVideoForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="videos && videos.length > 0">
                <div class="card" *ngFor="let video of videos">
                  <div class="card-header">
                    {{video.title}}

                    <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                       (click)="removeVideoFromVideos(video.title)"></i>
                  </div>
                  <div class="card-body">
                    <div class="imgPreview">
                      <img [src]="config.serverUrl + video.coverImage"/>

                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="uploadForms.showOtherVideoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <label>Cover Image for Video</label>
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag images here to upload'"
                            (error)="onImageUploadError($event)"
                            (success)="onImageUploadSuccess($event)"></dropzone>
                </div>
                <div class="form-group">
                  <label>Type of video</label>
                  <div class="controls-inline">
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='mp4';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      MP4
                    </label>
                    <label class="control radio">
                      <input name="radio" type="radio" [value]="videoType"
                             (change)="videoType='youtube';youTubeVideoUrl='';lastUpload=''">
                      <span class="control-indicator"></span>
                      You Tube
                    </label>
                  </div>
                </div>
                <div class="form-group" *ngIf="videoType=='mp4'">
                  <dropzone [config]="videoUploadConfig" [message]="'Click or drag video here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)"></dropzone>
                </div>
                <div class="form-group" *ngIf="videoType=='youtube'">
                  <input class="form-control"
                         type="text"
                         name="youTubeVideoUrlControl"
                         [(ngModel)]="youTubeVideoUrl"
                         placeholder="Enter url of youtube video"/>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('subVideo')"
                          [disabled]="!uploadFormTitle || (!lastUpload && !youTubeVideoUrl) || !videoCoverImage ||
                           (youTubeVideoUrl && invalidVideo())">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <label>Case Studies</label>
                <div class="addItem"
                     (click)="show('caseStudy')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="caseStudies && caseStudies.length > 0">
                <label *ngFor="let caseStudy of caseStudies" class="contentElement">
                  {{caseStudy.title}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeCaseStudyFromCaseStudies(caseStudy.title)"></i>
                </label>
              </div>
              <div *ngIf="uploadForms.caseStudy" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="pdfUploadConfig" [message]="'Click or drag pdf here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf2" name="pdf2"></dropzone>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('caseStudy')"
                          [disabled]="!uploadFormTitle || !lastUpload">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>White Papers</label>
                <div class="addItem"
                     (click)="show('whitePaperForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="whitePapers && whitePapers.length > 0">
                <label *ngFor="let whitePaper of whitePapers" class="contentElement">
                  {{whitePaper.title}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeWhitePaperFromList(whitePaper.title)"></i>
                </label>
              </div>
              <div *ngIf="uploadForms.whitePaperForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" class="form-control" name="uploadFormTitle" [(ngModel)]="uploadFormTitle"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="pdfUploadConfig" [message]="'Click or drag pdf here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <button class="btn btn-sm btn-primary" (click)="handleUpload('whitePaper')"
                          [disabled]="!lastUpload || !uploadFormTitle">Add
                  </button>
                  <button class="btn btn-sm btn-primary"
                          (click)="show()">
                    Cancel
                  </button>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Articles</label>
                <div class="addItem"
                     (click)="showDataForm('articleForm')">
                  <i class="nc-icon-mini ui-1_simple-add"></i>
                </div>
              </div>
              <div class="card-body" *ngIf="articles && articles.length > 0">
                <label *ngFor="let article of articles" class="contentElement">
                  {{article.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeArticleFromList(article.heading)"></i>
                </label>
              </div>
              <div *ngIf="setDataForm.articleForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('article')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Others
                  <div class="addItem"
                       (click)="showDataForm('otherForm')">
                    <i class="nc-icon-mini ui-1_simple-add"></i>
                  </div>
                </label>
              </div>
              <div class="card-body" *ngIf="other && other.length > 0">
                <label *ngFor="let oth of other" class="contentElement">
                  {{oth.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeOtherFromList(oth.heading)"></i>
                </label>
              </div>
              <div *ngIf="setDataForm.otherForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('other')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>


            <div class="card">
              <div class="card-header">
                <label>Demos
                  <div class="addItem"
                       (click)="showDataForm('demoForm')">
                    <i class="nc-icon-mini ui-1_simple-add"></i>
                  </div>
                </label>
              </div>
              <div class="card-body" *ngIf="demos && demos.length > 0">
                <label *ngFor="let demo of demos" class="contentElement">
                  {{demo.heading}}
                  <i class="float-right nc-icon-mini ui-1_circle-remove lg"
                     (click)="removeDemoFromList(demo.heading)"></i>
                </label>
              </div>
              <div *ngIf="setDataForm.demoForm" class="card-body" style="padding: 20px">
                <div class="form-group">
                  <label>heading</label>
                  <input type="text" class="form-control" name="setDataFormHeading" [(ngModel)]="setDataFormHeading"/>
                </div>
                <div class="form-group">
                  <label>Description</label>
                  <input type="text" class="form-control" name="setDataFormDesc" [(ngModel)]="setDataFormDesc"/>
                </div>
                <div class="form-group">
                  <label>More Detail Url</label>
                  <input type="text" class="form-control" name="setDataSeeMoreLink" [(ngModel)]="setDataSeeMoreLink"/>
                </div>
                <div class="form-group">
                  <dropzone [config]="imageUploadConfig" [message]="'Click or drag image here to upload'"
                            (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)" id="pdf" name="pdf"></dropzone>
                </div>
                <div class="form-group">
                  <input class="btn btn-sm btn-primary" type="button" value="Add"
                         (click)="handleDataUpload('demo')" [disabled]="!setDataFormHeading"/>
                  <input type="button" value="Cancel" class="btn btn-sm btn-primary"
                         (click)="showDataForm()"/>
                </div>
              </div>
            </div>

          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Description</label>
              <input type="text" class="form-control" name="desc"
                     [ngModel]="portfolioToEdit.desc" #eDesc="ngModel" required/>
              
              <div class="help-text" *ngIf="f.submitted && eDesc.invalid">
                Please enter description!
              </div>
            </div>
            <!--   <div class="form-group">
                 <label>External Demo Url</label>
                 <input type="text" class="form-control" name="portfolioToEdit.demoUrl" required #eDemoLink="ngModel"
                        [ngModel]="portfolioToEdit.demoUrl"/>
                 <div class="help-text" *ngIf="f.submitted && eDemoLink.invalid">Please enter demo link!</div>
               </div>-->
            <div class="card">
              <div class="card-header ">Select Group</div>
              <div class="card-body">

                <div class="controls-stacked">
                  <label class="control checkbox" *ngFor="let group of productGroups">
                    <input type="checkbox" (change)="group.checked = !group.checked"
                           ngModel
                           [checked]="group.checked" name="editPrdGrp">
                    <span class="control-indicator"></span>{{group.name}}
                  </label>
                </div>
              </div>
            </div>
            <div class="help-text"
                 *ngIf="f.submitted && !checkIfAnyGroupSelected()">Please
              select product
              group
            </div>
            <div class="card">
              <div class="card-header">Select Category and Sub Category</div>
              <div class="card-body">
                <div class="controls-stacked">
                  <label class="control checkbox" *ngFor="let solution of solutions">
                    <input type="checkbox" [checked]="solution.checked" name="editSolution"
                           (change)="solution.checked = !solution.checked;changeStatusOfAllSubCat(solution._id)">
                    <span class="control-indicator"></span>{{solution.name}}
                    <br>
                    <div class="controls-stacked">
                      <div *ngFor="let subSolution of subSolutions">
                        <label class="control checkbox" *ngIf="subSolution.mainCategory == solution._id">
                          <input [name]="solution.name" type="checkbox" [value]="subSolution.name"
                                 [checked]="checkIsItSelected(subSolution.name)"
                                 (change)="solution.checked =true;changeSubCatSelection(subSolution.name)">
                          <span class="control-indicator"></span>
                          {{subSolution.name}}
                        </label>
                      </div>
                    </div>
                  </label>
                </div>
              </div>
            </div>
            <div class="help-text"
                 *ngIf="f.submitted && !checkIfAnySolutionSelected()">Please
              select category.
            </div>
          </div>
        </div>
        <div class="form-buttons" style="margin-top: 50px;">
          <button type="submit" class="btn btn-primary">Save</button>
          <button type="reset" class="btn btn-default" routerLink="/admin/portfolios">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>

